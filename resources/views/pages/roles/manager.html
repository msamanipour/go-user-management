{{define "head"}}{{end}}

{{define "content"}}
{{ include "partials/rightMenu" }}
<div class="wrapper d-flex flex-column min-vh-100 bg-light">
    {{ include "partials/navbar" }}
    <div class="body flex-grow-1 px-3">
        <div class="container-lg">
            <div class="card mb-4">
                <div class="card-header">
                    <span class="pt-1 float-start">نقش های کاربری</span>
                    <a href="/roles/new">
                        <button class="btn btn-primary btn-sm float-end">اضافه کردن</button>
                    </a>
                </div>
                <div class="card-body">
                    {{ include "partials/alerts" }}
                    <table class="table border text-center mb-0">
                        <thead class="table-light fw-semibold">
                        <tr class="align-middle">
                            <th class="text-center">#</th>
                            <th class="text-center">نام</th>
                            <th class="text-center">دسترسی ها</th>
                            <th class="text-center">عملیات</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{range $index , $val := .roles}}
                        <tr class="align-middle">
                            <td>
                                <div>{{ $index }}</div>
                            </td>
                            <td>
                                <div>{{ $val }}</div>
                            </td>
                            <td>
                                <div>
                                    {{range $i , $v := GAuth.GetRolePermissions $val}}
                                    <span class="badge bg-danger">{{ $v }}</span>
                                    {{end}}
                                </div>
                            </td>
                            <td>
                                <a href="/roles/edit/{{ $val }}"><i class="icon-font-size mdi mdi-account-edit ml-2"></i></a>
                            </td>
                        </tr>
                        {{ end }}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card mb-4">
                <div class="card-header">دسترسی ها</div>
                <div class="card-body">
                    {{ include "partials/alerts" }}
                    <table class="table border text-center mb-0">
                        <thead class="table-light fw-semibold">
                        <tr class="align-middle">
                            <th class="text-center">#</th>
                            <th class="text-center">نام</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{range $i , $v := .permissions}}
                        <tr class="align-middle">
                            <td>
                                <div>{{ $i }}</div>
                            </td>
                            <td>
                                <div>{{ $v }}</div>
                            </td>
                        </tr>
                        {{ end }}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{{end}}